برای شروع ابتدا جدول یوزر را ساختیم .
اطلاعات کاربر  شامل اطلاعات شناسایی، شغلی ، شخصی  به همراه اکتیو بودن و ادمین بودن را برای کاربر تعریف کردیم.
دو فیلد برای نگه داشتن  رمز یکبار مصرف و مقدار بالانس هر شخص را نیز به جدول یوزر اضافه کردیم 



 جدول دیگری نیز به نام اکانت ساختیم که اطلاعات کارت های بانکی را نگهداری کند . 
شماره بانک مبدا کارت، شماره شعبه و شماره کارت و شماره شبا و ... نیز به آن اضافه شد.


 علاوه بر این موارد نیاز داریم که رابطه ی بین کاربر و اکانت نیز ایجاد شود .
با توجه به این که هر کاربری میتواند چندین اکانت داشته باشد و هر اکانت مربوط به یک کاربر است ، رابطه ی یک به چند در نظر گرفتیم و آیدی کاربر را در جدول اکانت اضافه کردیم.



جدول دیگری به نام تراکنش در نظر گرفتیم که با هر دو جدول اکانت و یوزر رابطه ی یک به چند دارد . 
به طوری که هر کاربر میتواند چندین تراکنش در حال انجام یا انجام شده داشته باشد . 
از طرف دیگر هر اکانت نیز میتواند در چندین تراکنش نقش داشته باشد . 

در نتیجه جدول تراکنش  شامل فیلد های ثابت برای یوزر آیدی و اکانت آیدی میباشد. علاوه بر این ها، اطلاعات دیگری از جمله میزان کارمزد  و مقدار مبلغی که باید از بالانس کاربر اضافه یا کم شود و همین طور نوع تراکنش را اضافه کردیم. 
نوع تراکنش میتواند برداشت یا واریز باشد که بر اساس آن مقدار کارمزد را کم کرده و  بالانس کاربر را به روز رسانی میکنیم. 


 روت ها:
کاربر 

کاربر میتواند ثبت نام کند 
کاربر میتواند لاگین کند.
کاربر ادمین میتواند کاربران دیگر را فعال کند. 
ادمین میتواند تمام کاربران را ببیند.

علاوه بر این موارد هر کاربری در صورتی که رمز عبور را فراموش کرده باشد ، میتواند با رمز یکبار مصرف وارد شود که  با ورود ایمیل رمز یکبار مصرف ارسال میشود که  میتواند ازین طریق احراز هویت شده و توکن دریافت کند. 
البته بخش رمز یکبار مصرف به صورت داخلی و با اضافه شدن فیلد در جدول کاربر  مرتفع شد.
و از پیاده سازی واقعی صرف نظر کردیم.
 


اکانت:
هر کاربر احراز هویت شده ای میتواند  اکانت بسازد.
میتواند حذف کند و 
 ادمین میتواند تمام اکانت ها را ببیند . 



تراکنش:
 روت اضافه کردن تراکنش که کاربر میتواند انجام دهد
ادمین میتواند عملیات قبول تراکنش را انجام دهد.
در این روت ابتدا آیدی تراکنش دریافت شده و بر اساس این که از چه نوعی است و چقدر کارمزد دارد و به چه اکانت و کاربری متصل است، عملیات به روز رسانی بالانس کاربر انجام میشود.


 لیست تراکنش هایی که نیاز به واریز دارند و انجام نشده اند 
لیست تراکنش هایی که  نیاز به  برداشت از حساب دارندو انجام نشده اند . 
لیست همه ی تراکنش ها 





